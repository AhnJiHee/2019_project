<%@page import="vo.BoardVO"%>
<%@page import="java.util.ArrayList"%>
<%@page import="dao.BoardDAO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>게시물 리스트</title>

<style>
table{text-align: center; margin: auto; border: 3px solid purple;}
</style>

<!-- Jquery 작성부 -->
<script src="jquery-3.2.1.min.js"></script>
<script>
$(document).ready(function(){
	$("#write").on('click', function(){
		location.href="boardwriteform.jsp"
		
	}); // onclick end
}); // ready end
</script>
</head>

<body>

<table border="2px">
<tr>
<td>번호</td><td>제목</td><td>작성자</td><td>작성시간</td><td>조회수</td>
</tr>

<!-- 전역 변수 선언부 -->
<%!
	BoardDAO dao = new BoardDAO(); 
	ArrayList<BoardVO> list = dao.getBoardList();
	int [] pageinfo = dao.getPage(list, 1);
%>

<% 
	for (int i = pageinfo[3]; i < pageinfo[4]; i++) {
	BoardVO vo = list.get(i);
	out.println ("<tr><td>" + vo.getBoardseq() + "</td><td>"
						+ "<a href = 'boarddetails.jsp?boardseq="+vo.getBoardseq()+" '>"
						+ vo.getBoardtitle() + "</a></td><td>"
						+ vo.getBoardwriter() + "</td><td>"
						+ vo.getBoardtime() + "</td><td>"
						+ vo.getBoardviewcount() + "</td></tr>");
	}
	
%> <!--게시물 목록 출력-->
<tr>
	<form action="boardlistsearch.jsp">
	<td colspan="2"><input type=text name="word" placeholder="검색할 내용을 입력하세요."></td>
	<td><select name="tag">
		<option value="boardtitle">제목</option>
		<option value="boardcontents">내용</option>
		<option value="boardwriter">작성자</option>
		</select></td>
	<td><input type = submit value = "검색 버튼"/></td>
	</form>
	<td><input type = button id = "write" value = "글쓰기 버튼"/></td>
</tr>
</table> 

<table>
<tr>
<%
for (int i =1 ; i <= pageinfo[2] ; i ++){
	out.print("<td><a href='boardlist.jsp?page='"+i+"'>"+i+"</a></td>");
}
%>

</tr>
</table>


</body>
</html>